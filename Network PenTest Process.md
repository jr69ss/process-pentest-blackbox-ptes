# Network PenTest Process
***
### Objective:

Find vulnerabilities and attack vectors, exploit them and develop a thoughtful retrospective with compelling evidence.

### Causes of vulnerabilities:
– Design and development errors
– Poor system configuration
– Human errors (specific or architectural)

### High Level Process:
Mostly based on: PTES
http://www.pentest-standard.org/index.php/PTES_Technical_Guidelines#

Organization Profiling
Creating profiled passwords
Understanding organization relationships
User information
Looking for past breaches and compromised passwords
Data Collection
Ports, services, operating systems
URL fuzzing and crawling
DNS maps
Automated Vulnerability Analysis
OpenVAS system scanning & report generation
OWASP ZAP and Nikto web application scanning & report generation
Metasploit Framework
Manual Vulnerability Analysis
Analyzing returned custom errors
Analyzing web schemas
Google dorking
Automated Exploitation
CVE exploitation
Manual Exploitation
Creating maliciously crafted packets and responses
Profiled password brute-forcing
Data Rollup and Data Point Correlation
Reporting prep
Custom and Deep Manual Exploits
Report Delivery
List of systems, scopes, vulnerabilities, successful attacks/breaches, remediation recommendation
### Engineering Process: (DRAFT v2)

### MS1 (Day 1-3)
##### Organization Profiling
DNS Scanning
Theharvester
theharvester -d <DOMAIN> -b all -v -n -\-t -l 500
Mxtoolbox.com
ARIN.net
Robtex.com
Dnsmap
dnsmap <DOMAIN> -w /usr/share/wordlists/gvit_subdomain_wordlist.txt -r results.txt

##### Email Address Scanning
https://hunter.io
Maltego CE
Password Profiling
DNS/IP Dorking
###### Google dorking (pentest-tools.com)
* Directory listing vulnerabilities
* Configuration files exposed
* Database files exposed
* Log files exposed
* Backup and old files
* Login pages
* SQL errors
* Publicly exposed documents
* phpinfo()

SiteDigger
https://www.mcafee.com/us/downloads/free-tools/sitedigger.aspx
SSL/TLS Analysis
tlssled
sslscan for quick scan (this is also called from tlssled)
ssllabs.com (requires host to have a domain name)
User Breach Lookup
Hacked-DB Script (available on GVIT github)
Dropbox Hack Search
User Password Lookup
Dropbox Hack Search (Grab SHA1 Hash and decipher with HashCat)

##### Vulnerability Scanning
OpenVAS
Nexpose
Metasploit Pro
Sparta
Armitage
Web Scanning
Nikto (also called by Sparta)
DirBuster
OWASP ZAP
https://asafaweb.com
https://www.shodan.io

### MS2 (Day 3-5)
Dradis Import
Password Bruteforcing - Hydra (can be called from Sparta)
Exploitation Research
https://www.exploit-db.com/
http://www.securityfocus.com/
https://cxsecurity.com/
http://0day.today
http://siph0n.net/
Exploitation via Metasploit/Armitage, custom scripts on P:\Security Scripts
Web exploitation via manual testing based on vulnerabilities discovered by OWASP ZAP, Nexpose, and
OpenVAS. Useful beginner's guide for cross site scripting: https://xss-game.appspot.com
sqlninja (for SQL injection)
Internal exploitation
DHCPig (DHCP exhaustion)
Wifite (wireless attacks)
Yersinia (Layer 2 exploitation)
WireShark Traffic Sniffing
Windows SMB Traffic Capture (for NTLM cracking with Hashcat and Cain&Abel)

### MS3 (Day 5-8)
Create Maltego Maps (company intelligence & systems topology)
Screenshot Data Roll Up
Exploit Data Roll Up
MS4 (Day 8-12)
Generate Dradis Report
Word Document Customizations
Proof Read and Review